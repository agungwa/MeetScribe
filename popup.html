
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MeetScribe</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <h1>MeetScribe</h1>
      <div class="status-indicator" id="statusIndicator">
        <span class="status-dot"></span>
        <span class="status-text" id="statusText">Ready</span>
      </div>
    </header>

    <!-- Navigation Tabs -->
    <nav class="tabs">
      <button class="tab-button active" data-tab="transcription">Transcription</button>
      <button class="tab-button" data-tab="settings">Settings</button>
    </nav>

    <!-- Transcription Tab -->
    <div class="tab-content active" id="transcriptionTab">
      <!-- Controls -->
      <div class="controls">
        <button id="startBtn" class="btn btn-primary">
          <span class="btn-icon">‚ñ∂</span> Start Recording
        </button>
        <button id="stopBtn" class="btn btn-danger" disabled>
          <span class="btn-icon">‚èπ</span> Stop
        </button>
        <button id="clearBtn" class="btn btn-secondary">
          <span class="btn-icon">üóë</span> Clear
        </button>
      </div>

      <!-- Transcription Area -->
      <div class="transcription-section">
        <div class="section-header">
          <h2>Live Transcription</h2>
          <div class="header-actions">
            <span class="char-counter" id="charCounter">0 chars</span>
            <button id="copyTranscription" class="btn-icon-btn" title="Copy transcription">üìã</button>
          </div>
        </div>
        <div class="transcription-box" id="transcriptionBox">
          <div class="placeholder" id="transcriptionPlaceholder">
            Click "Start Recording" to begin transcribing...
          </div>
          <div class="transcription-text" id="transcriptionText"></div>
        </div>
      </div>

      <!-- AI Recommendations Section -->
      <div class="recommendation-section">
        <div class="section-header">
          <h2>AI Recommendations</h2>
          <div class="header-actions">
            <button id="copyRecommendation" class="btn-icon-btn" title="Copy recommendation" style="display: none;">üìã</button>
            <button id="generateAnswer" class="btn-small btn-primary" disabled>Generate Answer</button>
          </div>
        </div>
        <div class="recommendation-box" id="recommendationBox">
          <div class="placeholder" id="recommendationPlaceholder">
            AI suggestions will appear here based on the transcription...
          </div>
          <div class="recommendation-text" id="recommendationText"></div>
        </div>
      </div>
    </div>

    <!-- Settings Tab -->
    <div class="tab-content" id="settingsTab">
      <div class="settings-section">
        <h2>API Configuration</h2>

        <div class="form-group">
          <label for="apiKey">
            Gemini API Key
            <span class="required">*</span>
          </label>
          <input type="password" id="apiKey" class="form-control" placeholder="Enter your Gemini API key">
          <small class="help-text">
            Get your API key from <a href="https://aistudio.google.com/app/apikey" target="_blank">Google AI Studio</a>
          </small>
        </div>

        <div class="form-group">
          <label for="customPrompt">Custom System Prompt (Optional)</label>
          <textarea id="customPrompt" class="form-control" rows="6" placeholder="Leave empty to use default prompt..."></textarea>
          <small class="help-text">
            Customize how the AI responds. Leave empty to use the default meeting assistant prompt.
          </small>
        </div>

        <div class="form-group">
          <label for="modelSelect">AI Model</label>
          <select id="modelSelect" class="form-control">
            <option value="gemini-2.0-flash">Gemini 2.0 Flash (Fast)</option>
            <option value="gemini-2.5-flash">Gemini 2.5 Flash (Faster)</option>
            <option value="gemini-2.5-pro">Gemini 2.5 Pro (Best Quality)</option>
            <option value="gemini-flash-latest">Flash Latest (Always Latest)</option>
          </select>
        </div>

        <div class="settings-actions">
          <button id="saveSettings" class="btn btn-primary">Save Settings</button>
          <button id="resetSettings" class="btn btn-secondary">Reset to Default</button>
        </div>

        <div class="settings-status" id="settingsStatus"></div>
      </div>

      <div class="settings-section">
        <h2>Current Prompt Preview</h2>
        <div class="prompt-preview" id="promptPreview">
          Configure your settings to see the active prompt...
        </div>
      </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
      <div class="spinner"></div>
      <p id="loadingText">Processing...</p>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
